# Migration `20200815063333-init`

This migration has been generated by Marcio Souza Filho at 8/15/2020, 3:33:33 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Category" (
"id" SERIAL,
"name" text  NOT NULL ,
"userId" integer  NOT NULL ,
PRIMARY KEY ("id"))

ALTER TABLE "public"."Flashcard" ADD COLUMN "categoryId" integer  NOT NULL ;

ALTER TABLE "public"."Category" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."Flashcard" ADD FOREIGN KEY ("categoryId")REFERENCES "public"."Category"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200810164451-init..20200815063333-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -11,8 +11,9 @@
   id         Int         @id @default(autoincrement())
   email      String      @unique
   password   String
   flashcards Flashcard[]
+  Category   Category[]
 }
 model Flashcard {
   id           Int      @id @default(autoincrement())
@@ -22,6 +23,16 @@
   isKnown      Boolean
   views        Int
   user         User     @relation(fields: [userId], references: [id])
   userId       Int
+  category     Category @relation(fields: [categoryId], references: [id])
+  categoryId   Int
   createdAt    DateTime @default(now())
 }
+
+model Category {
+  id        Int         @id @default(autoincrement())
+  name      String
+  user      User        @relation(fields: [userId], references: [id])
+  userId    Int
+  Flashcard Flashcard[]
+}
```


